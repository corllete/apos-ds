{% extends "layout/preview.html" %}

{% set story = data.story %}
{% block title %}{% if story %}{{ story.label }} - {% endif %}{{ super() }}{% endblock %}

{% block content %}
  <div class="ds-story">
  {% if story %}
      {% if story.meta %}
        <div class="ds-story__heading" id="{{ story._id }}">
          {{ story.label }} {{ apos.dsp.storyState(story.state) }}
        </div>
      {% endif %}
      
      {% set tmpl = story.module + ":" + story.template %}
      {% set dsPreview = '@corllete/apos-ds-page-type:preview/layoutShow.html' %}
      {# Fix async tags rendering #}
      {% asyncFix "" %}

      {% include tmpl ignore missing %}
      
  {% else %}
    <h3 class="ds-story__heading">
      Story not found
    </h3>
  {% endif %}
  </div>
{% endblock %}
